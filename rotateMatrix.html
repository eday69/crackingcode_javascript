<html>
<head>
  <title></title>
</head>
<body>

<p> Rotate Matrix </p>

<script type="text/javascript">

/*
 *
 * Given an image represented by NxN matrix, where each pixel in the image
 * is 4 bytes, write a method to rotate the image by 90 degress
 *
 */

 function rotateMatrix(matrix)
 {
   var tmp, offset;
   var levels=Math.floor(matrix.length/2);
   for (var i=0; i<levels; i++) {
     offset=matrix.length-1-i;
     for (var j=i; j<(offset); j++) {
       tmp=matrix[i][j];
       matrix[i][j] = matrix[j][offset]; // top  ok

       matrix[j][offset]= matrix[offset][offset-(j-i)];  //right
       matrix[offset][offset-(j-i)] = matrix[offset-(j-i)][i]; //bottom
       matrix[offset-(j-i)][i] =tmp; //left ok
     }
   }

   return matrix;
 }

var matrix=[
  [1,3,0,1,4],
  [2,1,1,6,5],
  [0,8,0,0,0],
  [1,1,1,1,7],
  [8,0,9,1,0]];

document.write('<div>Input: matrix <br>');
for (i=0; i < matrix.length; i++) {
   for (j = 0; j < matrix[i].length; j++) { document.write(matrix[i][j]+' '); }
   document.write('<br>');
}
document.write('</div>');
var newmatrix=rotateMatrix(matrix);
document.write('<div>Output: new matrix <br>');
for (i=0; i < matrix.length; i++) {
   for (j = 0; j < matrix[i].length; j++) { document.write(newmatrix[i][j]+' '); }
   document.write('<br>');
}
document.write('</div>');

</script>
</body>
</html>
